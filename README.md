# MARL

## ENV

### init

初始化各个数值

### step

需要有三个动作，发电量，买电量，电池用（储）电量，分别为0，1，2

#### limitations

**供需平衡** 供需 = -(负载-太阳板发电-生产电-买电+用(储)电量)作为检验的核心标准，如果供大于需就施加较小的惩罚，如果供小于需就施加较大的惩罚。

**电池电量** 电池电量 = 之前的电池电量-用(储)电量，如果当前电池电量大于最大值或者小于最小值就施加超出或者缺少部分的惩罚。

**合计** 供需平衡+电池电量。

#### target

**经济目标**维护电池的花费正比于电池冲用电量的平方；发电花费是关于发电量的二次函数；买电花费=买点量 * 电价。经济目标=维护电池+发电+买电。

**安全目标** 是发电量的一次函数。

**环境目标** = 发电量的一次函数 + 买电量的一次函数

#### node

改变时间步指针，使其指向下一个时间步的数据

### turn

- 改变回合步指针，使其指向下一个回合的数据
- 重置时间步指针，使其指向第一个时间步

### reset

- 重置指针，使其指向第一个回合和第一个时间步
- 重置电量使其为0

### define_observation_space

结合三张数据表的内容构成三维数组作为观测空间进行数据处理，并算出数据的行大小与列大小。
